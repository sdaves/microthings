<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>I. Codebase</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<h1>I. Codebase</h1>
<h2 id="one-codebase-tracked-in-revision-control-many-deploys">One codebase tracked in revision control, many deploys</h2><p>A twelve-factor app is always tracked in a version control system, such as Git, Mercurial, or Subversion. A copy of the revision tracking database is known as a <em>code repository</em>, often shortened to <em>code repo</em> or just <em>repo</em>.</p><p>A <em>codebase</em> is any single repo (in a centralized revision control system like Subversion), or any set of repos who share a root commit (in a decentralized revision control system like Git).</p><div class="figure"><img src="images/img0.png" alt="One codebase maps to many deploys" /><p class="caption">One codebase maps to many deploys</p></div><p>There is always a one-to-one correlation between the codebase and the app:</p><ul><li>If there are multiple codebases, it's not an app -- it's a distributed system. Each component in a distributed system is an app, and each can individually comply with twelve-factor.</li><li>Multiple apps sharing the same code is a violation of twelve-factor. The solution here is to factor shared code into libraries which can be included through the dependency manager.</li></ul><p>There is only one codebase per app, but there will be many deploys of the app. A <em>deploy</em> is a running instance of the app. This is typically a production site, and one or more staging sites. Additionally, every developer has a copy of the app running in their local development environment, each of which also qualifies as a deploy.</p><p>The codebase is the same across all deploys, although different versions may be active in each deploy. For example, a developer has some commits not yet deployed to staging; staging has some commits not yet deployed to production. But they all share the same codebase, thus making them identifiable as different deploys of the same app.</p>
</body>
</html>
